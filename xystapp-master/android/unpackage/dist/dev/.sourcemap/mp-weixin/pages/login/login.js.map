{"version":3,"file":"login.js","sources":["pages/login/login.vue","../../../hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG9naW4vbG9naW4udnVl"],"sourcesContent":["<template>\n\t<view class=\"login-container\">\n\t\t<!-- Logo区域 -->\n\t\t<view class=\"logo-section\">\n\t\t\t<image class=\"logo\" src=\"/static/type10/logo.png\" mode=\"aspectFit\"></image>\n\t\t</view>\n\t\t\n\t\t<!-- 品牌标题 -->\n\t\t<view class=\"brand-section\">\n\t\t\t<text class=\"brand-title\">咚 咚</text>\n\t\t\t<text class=\"brand-desc\">一个社团交流场地</text>\n\t\t</view>\n\t\t\n\t\t<!-- 登录卡片 -->\n\t\t<view class=\"login-card\">\n\t\t\t<!-- 本机号码一键登录 -->\n\t\t\t<button class=\"login-btn primary-btn\" @tap=\"handlePhoneLogin\">\n\t\t\t\t本机号码一键登录\n\t\t\t</button>\n\t\t\t\n\t\t\t<!-- 手机验证码登录 -->\n\t\t\t<button class=\"login-btn secondary-btn\" @tap=\"handleSmsLogin\">\n\t\t\t\t手机验证码登录\n\t\t\t</button>\n\t\t\t\n\t\t\t<!-- 注册账号 -->\n\t\t\t<button class=\"login-btn secondary-btn\" @tap=\"handleRegister\">\n\t\t\t\t注册账号\n\t\t\t</button>\n\t\t</view>\n\t\t\n\t\t<!-- 第三方登录 -->\n\t\t<view class=\"third-party-section\">\n\t\t\t<view class=\"divider-section\">\n\t\t\t\t<view class=\"divider-line\"></view>\n\t\t\t\t<text class=\"divider-text\">第三方登录</text>\n\t\t\t\t<view class=\"divider-line\"></view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"social-login\">\n\t\t\t\t<view class=\"social-btn wechat\" @tap=\"loginWithWechat\">\n\t\t\t\t\t<image class=\"social-icon\" src=\"/static/type10/weixin.png\" mode=\"aspectFit\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"social-btn qq\" @tap=\"loginWithQQ\">\n\t\t\t\t\t<image class=\"social-icon\" src=\"/static/type10/qq.png\" mode=\"aspectFit\"></image>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisLoading: false\n\t\t}\n\t},\n\tonLoad() {\n\t\tconsole.log('登录页面加载完成')\n\t},\n\tmethods: {\n\t\t// 本机号码一键登录\n\t\tasync handlePhoneLogin() {\n\t\t\tthis.isLoading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 模拟一键登录\n\t\t\t\tawait this.simulateLogin('phone')\n\t\t\t\t\n\t\t\t\t// 保存登录状态\n\t\t\t\tuni.setStorageSync('userToken', 'phone_login_token')\n\t\t\t\tuni.setStorageSync('loginType', 'phone')\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 跳转到首页\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t\t})\n\t\t\t\t}, 1500)\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '登录失败，请重试',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 手机验证码登录\n\t\thandleSmsLogin() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/phone-login/phone-login'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 注册账号\n\t\thandleRegister() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/register/register'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 微信登录\n\t\tasync loginWithWechat() {\n\t\t\tthis.isLoading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 模拟微信登录\n\t\t\t\tawait this.simulateLogin('wechat')\n\t\t\t\t\n\t\t\t\t// 保存登录状态\n\t\t\t\tuni.setStorageSync('userToken', 'wechat_login_token')\n\t\t\t\tuni.setStorageSync('loginType', 'wechat')\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '微信登录成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 跳转到首页\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t\t})\n\t\t\t\t}, 1500)\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '微信登录失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false\n\t\t\t}\n\t\t},\n\t\t\n\t\t// QQ登录\n\t\tasync loginWithQQ() {\n\t\t\tthis.isLoading = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 模拟QQ登录\n\t\t\t\tawait this.simulateLogin('qq')\n\t\t\t\t\n\t\t\t\t// 保存登录状态\n\t\t\t\tuni.setStorageSync('userToken', 'qq_login_token')\n\t\t\t\tuni.setStorageSync('loginType', 'qq')\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'QQ登录成功',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 跳转到首页\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl: '/pages/index/index'\n\t\t\t\t\t})\n\t\t\t\t}, 1500)\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'QQ登录失败',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.isLoading = false\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 模拟登录请求\n\t\tsimulateLogin(type) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// 模拟登录成功\n\t\t\t\t\tif (Math.random() > 0.1) { // 90%成功率\n\t\t\t\t\t\tresolve({ type, success: true })\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(new Error('登录失败'))\n\t\t\t\t\t}\n\t\t\t\t}, 1500)\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.login-container {\n\tposition: relative;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground: #FFFFFF;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\toverflow: hidden;\n}\n\n/* Logo区域 */\n.logo-section {\n\tmargin-top: 80rpx;\n\tmargin-bottom: 60rpx;\n\twidth: 250rpx;\n\theight: 226rpx;\n}\n\n.logo {\n\twidth: 100%;\n\theight: 100%;\n}\n\n/* 品牌标题区域 */\n.brand-section {\n\tmargin-bottom: 80rpx;\n\ttext-align: center;\n}\n\n.brand-title {\n\tfont-family: 'Inter', sans-serif;\n\tfont-style: normal;\n\tfont-weight: 700;\n\tfont-size: 64rpx; /* 32px * 2 */\n\tline-height: 78rpx; /* 39px * 2 */\n\tcolor: #000000;\n\tdisplay: block;\n\tmargin-bottom: 4rpx;\n}\n\n.brand-desc {\n\tfont-family: 'Inter', sans-serif;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tfont-size: 32rpx; /* 16px * 2 */\n\tline-height: 38rpx; /* 19px * 2 */\n\tcolor: #757575;\n\tdisplay: block;\n}\n\n/* 登录卡片 */\n.login-card {\n\tposition: relative;\n\twidth: 700rpx;\n\theight: 440rpx;\n\tbackground: #FFFFFF;\n\tbox-shadow: 0px 4rpx 20rpx rgba(193, 184, 232, 0.5);\n\tborder-radius: 20rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding: 0;\n\tmargin-bottom: 60rpx;\n}\n\n/* 登录按钮 */\n.login-btn {\n\twidth: 620rpx;\n\theight: 80rpx;\n\tborder-radius: 20rpx;\n\tborder: none;\n\tfont-family: 'Alibaba PuHuiTi', sans-serif;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tfont-size: 32rpx;\n\tline-height: 44rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: all 0.3s ease;\n\tmargin: 30rpx 0;\n}\n\n/* 本机号码一键登录按钮 */\n.primary-btn {\n\tbackground: #8A70C9;\n\tcolor: #FFFFFF;\n}\n\n/* 手机验证码登录按钮和注册账号按钮 */\n.secondary-btn {\n\tbackground: #FFFFFF;\n\tborder: 2rpx solid #BCA8F0;\n\tcolor: #333333;\n}\n\n.login-btn:active {\n\ttransform: scale(0.98);\n\topacity: 0.8;\n}\n\n/* 第三方登录区域 */\n.third-party-section {\n\tposition: relative;\n\twidth: 700rpx;\n}\n\n/* 分割线区域 */\n.divider-section {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 54rpx;\n\twidth: 100%;\n}\n\n/* 分割线 */\n.divider-line {\n\twidth: 210rpx;\n\theight: 2rpx;\n\tbackground: #757575;\n}\n\n.divider-text {\n\tfont-family: 'Inter', sans-serif;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tfont-size: 24rpx;\n\tline-height: 30rpx;\n\tcolor: #757575;\n\tbackground: #FFFFFF;\n\tpadding: 0 20rpx;\n\ttext-align: center;\n}\n\n/* 社交登录按钮 */\n.social-login {\n\tposition: relative;\n\twidth: 100%;\n\theight: 70rpx;\n\tdisplay: flex;\n\tjustify-content: center;\n\tgap: 100rpx;\n\talign-items: center;\n}\n\n/* 社交登录按钮 */\n.social-btn {\n\twidth: 70rpx;\n\theight: 70rpx;\n\tborder-radius: 50%;\n\tbackground: #FFFFFF;\n\tcursor: pointer;\n\ttransition: all 0.3s ease;\n}\n\n.social-btn:active {\n\ttransform: scale(0.9);\n}\n\n.social-icon {\n\twidth: 70rpx;\n\theight: 70rpx;\n}\n\n/* 加载状态 */\n.login-btn.loading {\n\topacity: 0.6;\n\tpointer-events: none;\n}\n\n.login-btn.loading::after {\n\tcontent: '';\n\twidth: 20rpx;\n\theight: 20rpx;\n\tborder: 2rpx solid transparent;\n\tborder-top: 2rpx solid currentColor;\n\tborder-radius: 50%;\n\tanimation: spin 1s linear infinite;\n\tmargin-left: 10rpx;\n}\n\n@keyframes spin {\n\t0% { transform: rotate(0deg); }\n\t100% { transform: rotate(360deg); }\n}\n</style>","import MiniProgramPage from 'D:/code space2/xystapp/android/pages/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAoDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,WAAW;AAAA,IACZ;AAAA,EACA;AAAA,EACD,SAAS;AACRA,kBAAAA,MAAA,MAAA,OAAA,+BAAY,UAAU;AAAA,EACtB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,MAAM,mBAAmB;AACxB,WAAK,YAAY;AAEjB,UAAI;AAEH,cAAM,KAAK,cAAc,OAAO;AAGhCA,4BAAI,eAAe,aAAa,mBAAmB;AACnDA,4BAAI,eAAe,aAAa,OAAO;AAEvCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAGD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,SAAS;AAAA,YACZ,KAAK;AAAA,WACL;AAAA,QACD,GAAE,IAAI;AAAA,MAEN,SAAO,OAAO;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACT,aAAK,YAAY;AAAA,MAClB;AAAA,IACA;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,iBAAiB;AAChBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,OACL;AAAA,IACD;AAAA;AAAA,IAGD,MAAM,kBAAkB;AACvB,WAAK,YAAY;AAEjB,UAAI;AAEH,cAAM,KAAK,cAAc,QAAQ;AAGjCA,4BAAI,eAAe,aAAa,oBAAoB;AACpDA,4BAAI,eAAe,aAAa,QAAQ;AAExCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAGD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,SAAS;AAAA,YACZ,KAAK;AAAA,WACL;AAAA,QACD,GAAE,IAAI;AAAA,MAEN,SAAO,OAAO;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACT,aAAK,YAAY;AAAA,MAClB;AAAA,IACA;AAAA;AAAA,IAGD,MAAM,cAAc;AACnB,WAAK,YAAY;AAEjB,UAAI;AAEH,cAAM,KAAK,cAAc,IAAI;AAG7BA,4BAAI,eAAe,aAAa,gBAAgB;AAChDA,4BAAI,eAAe,aAAa,IAAI;AAEpCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAGD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,SAAS;AAAA,YACZ,KAAK;AAAA,WACL;AAAA,QACD,GAAE,IAAI;AAAA,MAEN,SAAO,OAAO;AACfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAU;AACT,aAAK,YAAY;AAAA,MAClB;AAAA,IACA;AAAA;AAAA,IAGD,cAAc,MAAM;AACnB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACvC,mBAAW,MAAM;AAEhB,cAAI,KAAK,OAAO,IAAI,KAAK;AACxB,oBAAQ,EAAE,MAAM,SAAS,KAAG,CAAG;AAAA,iBACzB;AACN,mBAAO,IAAI,MAAM,MAAM,CAAC;AAAA,UACzB;AAAA,QACA,GAAE,IAAI;AAAA,OACP;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;AC/LA,GAAG,WAAW,eAAe;"}