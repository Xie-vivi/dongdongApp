# å‰åç«¯APIå¯¹æ¥è®¡åˆ’

## ğŸ“‹ å¯¹æ¥ç­–ç•¥

### å¯¹æ¥é¡ºåº
1. **è®¤è¯æˆæƒæ¨¡å—** - æ ¸å¿ƒä¾èµ–ï¼Œæ‰€æœ‰å…¶ä»–æ¨¡å—çš„åŸºç¡€
2. **ä»ªè¡¨ç›˜æ¦‚è§ˆæ¨¡å—** - ç®€å•çš„åªè¯»APIï¼Œç”¨äºæµ‹è¯•è¿æ¥
3. **æ ‡ç­¾ç®¡ç†æ¨¡å—** - ç®€å•CRUDï¼Œé€‚åˆéªŒè¯åŸºç¡€åŠŸèƒ½
4. **ç³»ç»Ÿé…ç½®æ¨¡å—** - é…ç½®ç®¡ç†ï¼Œä¸­ç­‰å¤æ‚åº¦
5. **ç”¨æˆ·ç®¡ç†æ¨¡å—** - å¤æ‚CRUDå’Œæ•°æ®åˆ†æ
6. **å†…å®¹å®¡æ ¸æ¨¡å—** - ä¸šåŠ¡é€»è¾‘å¤æ‚
7. **æƒé™ç®¡ç†æ¨¡å—** - æƒé™ç³»ç»Ÿå¤æ‚
8. **æ–‡ä»¶ç®¡ç†æ¨¡å—** - æ–‡ä»¶ä¸Šä¼ å¤„ç†
9. **æ•°æ®åˆ†ææ¨¡å—** - å›¾è¡¨æ•°æ®é›†æˆ
10. **æ“ä½œæ—¥å¿—æ¨¡å—** - æ—¥å¿—ç³»ç»Ÿé›†æˆ

### å¯¹æ¥åŸåˆ™
- ä¿æŒç°æœ‰åŠŸèƒ½å®Œæ•´æ€§
- é”™è¯¯å¤„ç†ä¸å—å½±å“
- é€æ­¥æ›¿æ¢æ¨¡æ‹Ÿæ•°æ®
- ä¿ç•™mockæ•°æ®ä½œä¸ºfallback

## ğŸ¯ æ¨¡å—å¯¹æ¥æ¸…å•

### 1. è®¤è¯æˆæƒæ¨¡å— (/auth)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| ç®¡ç†å‘˜ç™»å½• | POST | /admin/auth/login | âœ… å·²å¯¹æ¥ | JWTè®¤è¯ |
| ç™»å‡º | POST | /admin/auth/logout | âœ… å·²å¯¹æ¥ | æ¸…é™¤token |
| åˆ·æ–°Token | POST | /admin/auth/refresh | âœ… å·²å¯¹æ¥ | è‡ªåŠ¨åˆ·æ–° |
| è·å–ç”¨æˆ·ä¿¡æ¯ | GET | /admin/auth/profile | âœ… å·²å¯¹æ¥ | å½“å‰ç®¡ç†å‘˜ |
| ä¿®æ”¹å¯†ç  | POST | /admin/auth/change-password | âœ… å·²å¯¹æ¥ | å¯†ç ç®¡ç† |
| æ›´æ–°ä¸ªäººä¿¡æ¯ | PUT | /admin/auth/profile | âœ… å·²å¯¹æ¥ | ä¿¡æ¯æ›´æ–° |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/auth.js` âœ…
**ç»„åˆå¼å‡½æ•°**: `src/composables/useAuth.js` âœ…

### 2. ä»ªè¡¨ç›˜æ¦‚è§ˆæ¨¡å— (/dashboard)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| ç³»ç»Ÿæ¦‚è§ˆç»Ÿè®¡ | GET | /admin/statistics/overview | âœ… å·²å¯¹æ¥ | 8ä¸ªå…³é”®æŒ‡æ ‡ |
| ç”¨æˆ·è¶‹åŠ¿æ•°æ® | GET | /admin/statistics/user-trends | âœ… å·²å¯¹æ¥ | å›¾è¡¨æ•°æ® |
| å†…å®¹ç»Ÿè®¡æ•°æ® | GET | /admin/statistics/content-stats | âœ… å·²å¯¹æ¥ | åˆ†ç±»ç»Ÿè®¡ |
| ç³»ç»Ÿå¥åº·çŠ¶æ€ | GET | /admin/statistics/system-health | âœ… å·²å¯¹æ¥ | å®æ—¶ç›‘æ§ |
| å®æ—¶æ•°æ® | GET | /admin/statistics/realtime | âœ… å·²å¯¹æ¥ | è½®è¯¢æ›´æ–° |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/dashboard.js` âœ…
**ç»„åˆå¼å‡½æ•°**: `src/composables/useDashboard.js` âœ…

### 3. æ ‡ç­¾ç®¡ç†æ¨¡å— (/tags)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| æ ‡ç­¾åˆ—è¡¨ | GET | /admin/tags | ğŸ”„ å¾…å¯¹æ¥ | æ”¯æŒç­›é€‰åˆ†é¡µ |
| åˆ›å»ºæ ‡ç­¾ | POST | /admin/tags | ğŸ”„ å¾…å¯¹æ¥ | åŸºç¡€CRUD |
| æ›´æ–°æ ‡ç­¾ | PUT | /admin/tags/{id} | ğŸ”„ å¾…å¯¹æ¥ | ç¼–è¾‘æ ‡ç­¾ |
| åˆ é™¤æ ‡ç­¾ | DELETE | /admin/tags/{id} | ğŸ”„ å¾…å¯¹æ¥ | åˆ é™¤æ“ä½œ |
| æ‰¹é‡æ“ä½œ | POST | /admin/tags/batch | ğŸ”„ å¾…å¯¹æ¥ | æ‰¹é‡å¤„ç† |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/tags.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/useTagManagement.js` (éœ€è¦åˆ›å»º)

### 4. ç³»ç»Ÿé…ç½®æ¨¡å— (/system)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| è·å–ç³»ç»Ÿé…ç½® | GET | /admin/system/config | âœ… å·²å¯¹æ¥ | åˆ†ç»„ç»“æ„é…ç½® |
| æ›´æ–°ç³»ç»Ÿé…ç½® | PUT | /admin/system/config/{section} | âœ… å·²å¯¹æ¥ | ä¹è§‚æ›´æ–°æœºåˆ¶ |
| æµ‹è¯•é‚®ä»¶é…ç½® | POST | /admin/system/test/email | âœ… å·²å¯¹æ¥ | è¿æ¥éªŒè¯ |
| æµ‹è¯•å­˜å‚¨é…ç½® | POST | /admin/system/test/storage | âœ… å·²å¯¹æ¥ | è¿æ¥éªŒè¯ |
| é‡ç½®é…ç½® | POST | /admin/system/config/{section}/reset | âœ… å·²å¯¹æ¥ | æ¢å¤é»˜è®¤å€¼ |
| å¯¼å‡ºé…ç½® | GET | /admin/system/config/export | âœ… å·²å¯¹æ¥ | JSONæ ¼å¼ |
| å¯¼å…¥é…ç½® | POST | /admin/system/config/import | âœ… å·²å¯¹æ¥ | æ‰¹é‡å¯¼å…¥ |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/system.js` âœ…
**ç»„åˆå¼å‡½æ•°**: `src/composables/useSystemConfig.js` âœ…

### 5. ç”¨æˆ·ç®¡ç†æ¨¡å— (/users)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| ç”¨æˆ·åˆ—è¡¨ | GET | /admin/users | ğŸ”„ å¾…å¯¹æ¥ | å¤æ‚ç­›é€‰ |
| ç”¨æˆ·è¯¦æƒ… | GET | /admin/users/{id} | ğŸ”„ å¾…å¯¹æ¥ | å®Œæ•´ä¿¡æ¯ |
| æ›´æ–°ç”¨æˆ· | PUT | /admin/users/{id} | ğŸ”„ å¾…å¯¹æ¥ | ç”¨æˆ·ç¼–è¾‘ |
| æ›´æ–°ç”¨æˆ·çŠ¶æ€ | POST | /admin/users/{id}/status | ğŸ”„ å¾…å¯¹æ¥ | çŠ¶æ€ç®¡ç† |
| åˆ é™¤ç”¨æˆ· | DELETE | /admin/users/{id} | ğŸ”„ å¾…å¯¹æ¥ | ç”¨æˆ·åˆ é™¤ |
| å¯¼å‡ºç”¨æˆ· | GET | /admin/users/export | ğŸ”„ å¾…å¯¹æ¥ | æ•°æ®å¯¼å‡º |
| ç”¨æˆ·è¡Œä¸º | GET | /admin/users/{id}/behavior | ğŸ”„ å¾…å¯¹æ¥ | è¡Œä¸ºåˆ†æ |
| ç”¨æˆ·åˆ†æ | GET | /admin/users/analytics | ğŸ”„ å¾…å¯¹æ¥ | æ•°æ®ç»Ÿè®¡ |
| æ‰¹é‡æ“ä½œ | POST | /admin/users/batch | ğŸ”„ å¾…å¯¹æ¥ | æ‰¹é‡å¤„ç† |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/users.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/useUserManagement.js`

### 6. å†…å®¹å®¡æ ¸æ¨¡å— (/content)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| å¾…å®¡æ ¸å¸–å­ | GET | /admin/content/posts | ğŸ”„ å¾…å¯¹æ¥ | å¸–å­ç®¡ç† |
| å¾…å®¡æ ¸æ´»åŠ¨ | GET | /admin/content/activities | ğŸ”„ å¾…å¯¹æ¥ | æ´»åŠ¨ç®¡ç† |
| å¾…å®¡æ ¸è¯„è®º | GET | /admin/content/comments | ğŸ”„ å¾…å¯¹æ¥ | è¯„è®ºç®¡ç† |
| é€šè¿‡å¸–å­ | POST | /admin/content/posts/{id}/approve | ğŸ”„ å¾…å¯¹æ¥ | å®¡æ ¸æ“ä½œ |
| æ‹’ç»å¸–å­ | POST | /admin/content/posts/{id}/reject | ğŸ”„ å¾…å¯¹æ¥ | å®¡æ ¸æ“ä½œ |
| æ‰¹é‡å®¡æ ¸ | POST | /admin/content/batch-review | ğŸ”„ å¾…å¯¹æ¥ | æ‰¹é‡å¤„ç† |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/content.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/useContentAudit.js`

### 7. æƒé™ç®¡ç†æ¨¡å— (/permissions)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| ç®¡ç†å‘˜åˆ—è¡¨ | GET | /admin/permissions/administrators | ğŸ”„ å¾…å¯¹æ¥ | ç®¡ç†å‘˜ç®¡ç† |
| åˆ›å»ºç®¡ç†å‘˜ | POST | /admin/permissions/administrators | ğŸ”„ å¾…å¯¹æ¥ | æ·»åŠ ç®¡ç†å‘˜ |
| æ›´æ–°ç®¡ç†å‘˜ | PUT | /admin/permissions/administrators/{id} | ğŸ”„ å¾…å¯¹æ¥ | ç¼–è¾‘ç®¡ç†å‘˜ |
| åˆ é™¤ç®¡ç†å‘˜ | DELETE | /admin/permissions/administrators/{id} | ğŸ”„ å¾…å¯¹æ¥ | åˆ é™¤ç®¡ç†å‘˜ |
| è§’è‰²åˆ—è¡¨ | GET | /admin/permissions/roles | ğŸ”„ å¾…å¯¹æ¥ | è§’è‰²ç®¡ç† |
| æƒé™åˆ—è¡¨ | GET | /admin/permissions | ğŸ”„ å¾…å¯¹æ¥ | æƒé™æ ‘ |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/permissions.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/usePermissionManagement.js`

### 8. æ–‡ä»¶ç®¡ç†æ¨¡å— (/files)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| æ–‡ä»¶åˆ—è¡¨ | GET | /admin/files | ğŸ”„ å¾…å¯¹æ¥ | æ–‡ä»¶ç®¡ç† |
| ä¸Šä¼ æ–‡ä»¶ | POST | /admin/files/upload | ğŸ”„ å¾…å¯¹æ¥ | æ–‡ä»¶ä¸Šä¼  |
| åˆ é™¤æ–‡ä»¶ | DELETE | /admin/files/{id} | ğŸ”„ å¾…å¯¹æ¥ | æ–‡ä»¶åˆ é™¤ |
| æ–‡ä»¶è¯¦æƒ… | GET | /admin/files/{id} | ğŸ”„ å¾…å¯¹æ¥ | æ–‡ä»¶ä¿¡æ¯ |
| å­˜å‚¨é…ç½® | GET | /admin/files/storage-config | ğŸ”„ å¾…å¯¹æ¥ | å­˜å‚¨è®¾ç½® |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/files.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/useFileManagement.js`, `useFileUpload.js`

### 9. æ•°æ®åˆ†ææ¨¡å— (/analytics)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ | GET | /admin/analytics/user-behavior | ğŸ”„ å¾…å¯¹æ¥ | è¡Œä¸ºåˆ†æ |
| å†…å®¹åˆ†æ | GET | /admin/analytics/content | ğŸ”„ å¾…å¯¹æ¥ | å†…å®¹ç»Ÿè®¡ |
| æŠ¥è¡¨åˆ—è¡¨ | GET | /admin/analytics/reports | ğŸ”„ å¾…å¯¹æ¥ | æŠ¥è¡¨ç®¡ç† |
| ç”ŸæˆæŠ¥è¡¨ | POST | /admin/analytics/reports/generate | ğŸ”„ å¾…å¯¹æ¥ | æŠ¥è¡¨ç”Ÿæˆ |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/analytics.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/useAnalytics.js`

### 10. æ“ä½œæ—¥å¿—æ¨¡å— (/logs)
| æ¥å£ | æ–¹æ³• | è·¯å¾„ | çŠ¶æ€ | å¤‡æ³¨ |
|------|------|------|------|------|
| æ“ä½œæ—¥å¿—åˆ—è¡¨ | GET | /admin/logs/operations | ğŸ”„ å¾…å¯¹æ¥ | æ—¥å¿—æŸ¥çœ‹ |
| æ—¥å¿—è¯¦æƒ… | GET | /admin/logs/operations/{id} | ğŸ”„ å¾…å¯¹æ¥ | è¯¦ç»†ä¿¡æ¯ |
| æ—¥å¿—åˆ†æ | GET | /admin/logs/analytics | ğŸ”„ å¾…å¯¹æ¥ | ç»Ÿè®¡åˆ†æ |
| å¯¼å‡ºæ—¥å¿— | POST | /admin/logs/export | ğŸ”„ å¾…å¯¹æ¥ | æ•°æ®å¯¼å‡º |

**å¯¹åº”æ–‡ä»¶**: `src/api/admin/logs.js`
**ç»„åˆå¼å‡½æ•°**: `src/composables/useOperationLogs.js`

## ğŸ”„ å¯¹æ¥è¿›åº¦è·Ÿè¸ª

### çŠ¶æ€è¯´æ˜
- ğŸ”„ å¾…å¯¹æ¥ - å°šæœªå¼€å§‹å¯¹æ¥
- ğŸš§ å¯¹æ¥ä¸­ - æ­£åœ¨è¿›è¡Œå¯¹æ¥
- âœ… å·²å¯¹æ¥ - å®Œæˆå¯¹æ¥
- ğŸ§ª æµ‹è¯•ä¸­ - è¿›è¡Œæµ‹è¯•éªŒè¯
- âŒ æœ‰é—®é¢˜ - å¯¹æ¥é‡åˆ°é—®é¢˜

### å½“å‰è¿›åº¦
- **æ€»ä½“è¿›åº¦**: 0/50 æ¥å£å·²å¯¹æ¥
- **å½“å‰é˜¶æ®µ**: åŸºç¡€è®¾æ–½å‡†å¤‡
- **ä¸‹ä¸€æ­¥**: åˆ›å»ºè®¤è¯æ¨¡å—API

## ğŸ“ å¯¹æ¥æ³¨æ„äº‹é¡¹

### 1. ç¯å¢ƒé…ç½®
```env
VITE_API_BASE_URL=http://localhost:3000/api
VITE_USE_MOCK_API=false
```

### 2. é”™è¯¯å¤„ç†
- ç»Ÿä¸€çš„é”™è¯¯æ‹¦æˆªå™¨
- 401è‡ªåŠ¨tokenåˆ·æ–°
- 403æƒé™æç¤º
- ç½‘ç»œé”™è¯¯å¤„ç†

### 3. æ•°æ®æ ¼å¼
- è¯·æ±‚å‚æ•°æ ¼å¼ç»Ÿä¸€
- å“åº”æ•°æ®ç»“æ„æ ‡å‡†åŒ–
- åˆ†é¡µå‚æ•°ç»Ÿä¸€

### 4. æµ‹è¯•ç­–ç•¥
- æ¯ä¸ªæ¥å£å•ç‹¬æµ‹è¯•
- é”™è¯¯åœºæ™¯æµ‹è¯•
- æ€§èƒ½æµ‹è¯•
- é›†æˆæµ‹è¯•

## ğŸ¯ é‡Œç¨‹ç¢‘ç›®æ ‡

### ç¬¬ä¸€å‘¨ï¼šåŸºç¡€è®¾æ–½ + è®¤è¯æ¨¡å—
- APIæœåŠ¡å±‚æ­å»º
- è®¤è¯æ¨¡å—å®Œå…¨å¯¹æ¥
- åŸºç¡€é”™è¯¯å¤„ç†

### ç¬¬äºŒå‘¨ï¼šæ ¸å¿ƒæ¨¡å—å¯¹æ¥
- ä»ªè¡¨ç›˜æ¨¡å—
- æ ‡ç­¾ç®¡ç†
- ç³»ç»Ÿé…ç½®

### ç¬¬ä¸‰å‘¨ï¼šä¸šåŠ¡æ¨¡å—å¯¹æ¥
- ç”¨æˆ·ç®¡ç†
- å†…å®¹å®¡æ ¸
- æƒé™ç®¡ç†

### ç¬¬å››å‘¨ï¼šé«˜çº§åŠŸèƒ½å¯¹æ¥
- æ–‡ä»¶ç®¡ç†
- æ•°æ®åˆ†æ
- æ“ä½œæ—¥å¿—

### ç¬¬äº”å‘¨ï¼šæµ‹è¯•å’Œä¼˜åŒ–
- å…¨é¢æµ‹è¯•
- æ€§èƒ½ä¼˜åŒ–
- æ–‡æ¡£å®Œå–„
