# 数据库问题解决方案

## 🚨 当前问题

后端服务启动后出现错误：`Table 'xystapp.users' doesn't exist`

这表明数据库 `xystapp` 不存在或者表没有正确创建。

## 🔧 解决步骤

### 方法1：使用数据库管理工具（推荐）

1. **打开数据库管理工具**（如 Navicat、phpMyAdmin、MySQL Workbench 等）

2. **连接到MySQL服务器**
   - 主机：localhost
   - 端口：3306
   - 用户名：root
   - 密码：123456

3. **创建数据库**
   ```sql
   CREATE DATABASE IF NOT EXISTS xystapp CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

4. **导入数据库文件**
   - 选择 `xystapp` 数据库
   - 导入文件：`d:\code space2\xystapp\database\xystapp.sql`

### 方法2：使用命令行（如果有MySQL客户端）

```bash
# 1. 创建数据库
mysql -u root -p123456 -e "CREATE DATABASE IF NOT EXISTS xystapp CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# 2. 导入数据库
mysql -u root -p123456 xystapp < "d:\code space2\xystapp\database\xystapp.sql"
```

### 方法3：检查MySQL服务状态

确保MySQL服务正在运行：

1. **Windows服务管理器**中检查 MySQL 服务状态
2. 或使用命令：`net start mysql` 或 `net start mysql80`

## 🔍 验证数据库

导入成功后，应该能看到以下表：

- `users` - 用户表
- `admins` - 管理员表  
- `activities` - 活动表
- `posts` - 帖子表
- `fields` - 场地表
- 等等...

## 🚀 重启后端服务

数据库导入成功后：

1. **停止当前后端服务**（Ctrl+C）
2. **重新启动后端服务**
3. **检查启动日志**，确认没有数据库错误

## 📝 验证连接

成功启动后应该看到：
```
Started XystappApplication in X.XXX seconds
XYST社交平台后台API启动成功
访问地址: http://localhost:8080/api
```

## ⚠️ 注意事项

1. **确保MySQL服务运行**
2. **确保数据库连接配置正确**（application.yml）
3. **确保数据库用户权限充足**
4. **如果仍有问题，检查防火墙设置**

## 🔗 相关文件

- 数据库文件：`database/xystapp.sql`
- 配置文件：`back/src/main/resources/application.yml`
- 重置脚本：`reset_admin_password.sql`
